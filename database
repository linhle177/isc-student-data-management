import mysql.connector

DB_HOST = "shortline.proxy.rlwy.net"
DB_USER = "root"
DB_PASSWORD = "HJbJWZljtPCVElopHxCknoeDLcjsbxDk"
DB_NAME = "railway"
DB_PORT = 44228

def connect_db():
    return mysql.connector.connect(
        host=DB_HOST,
        user=DB_USER,
        password=DB_PASSWORD,
        database=DB_NAME,
        port=DB_PORT
    )

def create_tables():
    conn = connect_db()
    cursor = conn.cursor()

    cursor.execute("""
    CREATE TABLE IF NOT EXISTS Students (
        student_id INT AUTO_INCREMENT PRIMARY KEY,
        full_name VARCHAR(255) NOT NULL,
        dob DATE,
        nationality VARCHAR(100),
        email VARCHAR(255) UNIQUE,
        phone VARCHAR(20),
        address TEXT
    )
    """)

    cursor.execute("""
    CREATE TABLE IF NOT EXISTS Finance (
        finance_id INT AUTO_INCREMENT PRIMARY KEY,
        student_id INT,
        annual_budget DECIMAL(10,2),
        scholarship_eligibility ENUM('Yes', 'No'),
        bank_statement_verified ENUM('Yes', 'No'),
        FOREIGN KEY (student_id) REFERENCES Students(student_id) ON DELETE CASCADE
    )
    """)

    conn.commit()
    conn.close()
    print("âœ… Tables created successfully!")

if __name__ == "__main__":
    create_tables()
